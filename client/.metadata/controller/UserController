{
    "id": "ExtBox1-ext-gen15400",
    "type": "controller",
    "reference": {
        "name": "items",
        "type": "array"
    },
    "codeClass": null,
    "userConfig": {
        "designer|init": "",
        "designer|userClassName": "UserController"
    },
    "customConfigs": [],
    "designerId": "920067bc-4b57-4a48-89ed-9c99a8649432",
    "$viewOrder": 2,
    "expanded": true,
    "cn": [
        {
            "id": "ExtBox1-ext-gen15522",
            "type": "controllerref",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "ref": "mainAppView",
                "selector": "mainappview",
                "xtype": null,
                "designer|userClassName": "mainAppView"
            },
            "customConfigs": [],
            "expanded": true
        },
        {
            "id": "ExtBox1-ext-gen16040",
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "fn": "onButtonTap",
                "implHandler": "        console.log('Saving the user settings');",
                "name": "tap",
                "designer|targetType": "Ext.Button",
                "designer|controlQuery": "#saveSettingsButton",
                "designer|userClassName": "onButtonTap"
            },
            "customConfigs": [],
            "expanded": true
        },
        {
            "id": "ExtBox1-ext-gen30816",
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "fn": "onRegistrationBackButtonTap",
                "implHandler": "        this.getMainAppView().setActiveItem(1);",
                "name": "tap",
                "designer|targetType": "Ext.Button",
                "designer|controlQuery": "#RegistrationBackButton",
                "designer|userClassName": "onRegistrationBackButtonTap"
            },
            "customConfigs": [],
            "expanded": true
        },
        {
            "id": "ExtBox1-ext-gen31973",
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "fn": "onRegistrationSaveButtonTap",
                "implHandler": "        console.log('save user');\n        var view = this.getRegistrationView();\n        var user = view.getRecord();\n        user.set(view.getValues());\n        user.getProxy().setUrl(fishpickle.baseURL + 'rest/user');\n\n        var errors = user.validate();\n        if (errors.isValid()) {\n            user.save({\n                callback: function(records, operation, success) {\n                    this.getMainAppView().setActiveItem(1);\n                    /*if (success) {\n                    this.getMainAppView().setActiveItem(1);\n                    } else {\n                    Ext.Msg.alert('Registration was not successful.');\n                    }*/\n                    }\n                    },\n                    this\n                    );\n                    } else {\n                    var msg = '';\n                    for (i=0; i<errors.length; i++) {\n                    var e = errors.items[i];\n                    if ('name' == e.getField()) {\n                    msg += 'Name ' + e.getMessage() + '\\n';\n                    } else if ('email' == e.getField()) {\n                    msg += 'Email ' + e.getMessage() + '\\n';\n                    } else if ('login' == e.getField()) {\n                    msg += 'Login Name ' + e.getMessage() + '\\n';\n                    } else if ('password' == e.getField()) {\n                    msg += 'Password ' + e.getMessage() + '\\n';\n                    }\n                    }\n                    }",
                "name": "tap",
                "designer|targetType": "Ext.Button",
                "designer|controlQuery": "#RegistrationSaveButton",
                "designer|userClassName": "onRegistrationSaveButtonTap"
            },
            "customConfigs": [],
            "expanded": true
        },
        {
            "id": "ExtBox1-ext-gen32337",
            "type": "controlleraction",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "fn": "onRegistrationViewActivate",
                "implHandler": "        console.log('prepare user model');\n        var user = Ext.create('fishpickle.model.User', {login:'', displayName:'', email:'', password:''});\n        this.getRegistrationView().setRecord(user);",
                "name": "activate",
                "designer|targetType": "Ext.Container",
                "designer|controlQuery": "#registrationitem",
                "designer|userClassName": "onRegistrationViewActivate"
            },
            "customConfigs": [],
            "expanded": true
        },
        {
            "id": "ExtBox1-ext-gen33325",
            "type": "controllerref",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "ref": "registrationView",
                "selector": "registrationview",
                "xtype": "registrationview",
                "designer|userClassName": "registrationView"
            },
            "customConfigs": [],
            "expanded": true
        }
    ]
}